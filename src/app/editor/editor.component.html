<br />
<div class="card">
    <div class="card-body">
        <h4 class="card-title">
            <!-- buttons -->
            <!-- save -->
            <button type="button"
                [disabled]="!changesMade"
                (click)="saveFile()"
                class="btn btn-primary btn-sm float-right"
                title="Save changes">Save changes</button>

            <!-- Previous version -->
            <div class="dropdown float-right" *ngIf="filesService.currentFile && filesService.currentFile.data.total_versions > 1">
                <button class="btn btn-secondary dropdown-toggle btn-sm" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-history"></i>
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                    <button class="dropdown-item" type="button"
                        *ngIf="currentVersion > 0"
                        (click)="loadNextVersion()"
                        title="Go one version forward"><i class="fa fa-arrow-up"></i> Load next version</button>
                    <button class="dropdown-item" type="button"
                        *ngIf="currentVersion < (filesService.currentFile.data.total_versions - 1)"
                        (click)="loadPrevVersion()"
                        title="Go one version back"><i class="fa fa-arrow-down"></i> Load previous version</button>
                </div>
            </div>
            <small
                *ngIf="filesService.currentFile && currentVersion > 0"
                class="float-right versions-pager"
                title="This file has {{filesService.currentFile.data.total_versions}} versions saved">
                version {{filesService.currentFile.data.total_versions - currentVersion}} of {{filesService.currentFile.data.total_versions}} versions
            </small>
            <!-- the name of the file -->
            <span *ngIf="filesService.currentFile"
                title="{{filesService.currentFile.data.name}}">{{filesService.currentFile.data.name}}</span>
        </h4>
    </div>
    <div #actualContentEl *ngIf="filesService.currentFile" class="card-text alert bg-light border" (window:keydown)="contentKeyPress($event)" contenteditable="true" [ngStyle]="{'height': (configService.winHeight - 160)+'px'}" [innerHTML]="filesService.currentFile.data.content"
        (input)="changesMade = true"></div>
</div>
